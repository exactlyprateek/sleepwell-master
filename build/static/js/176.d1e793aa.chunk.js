(this.webpackJsonpsleepwell=this.webpackJsonpsleepwell||[]).push([[176],{1426:function(e,t,s){"use strict";s.r(t);var c=s(639),a=s(1),n=s(18),l=s(637),r=s(642),i=s.n(r),d=s(13);t.default=function(){var e=Object(n.g)(),t=Object(n.h)().search.match(/page=([0-9]+)/,""),s=Number(t&&t[1]?t[1]:1),r=Object(a.useState)(s),b=Object(c.a)(r,2),j=b[0],o=b[1],h=Object(a.useState)([]),u=Object(c.a)(h,2),O=u[0],p=u[1],x=Object(a.useState)(null),g=Object(c.a)(x,2),m=g[0],f=(g[1],Object(a.useState)(!1)),w=Object(c.a)(f,2),N=w[0],S=w[1],v=Object(a.useState)(!1),k=Object(c.a)(v,2),y=k[0],A=k[1],P=Object(a.useState)(""),C=Object(c.a)(P,2),E=C[0],J=C[1],q=sessionStorage.getItem("token");Object(a.useEffect)((function(){i.a.get("http://markbran.in/apis/admin/products",{headers:{"auth-token":q}}).then((function(e){console.log(e.data.products),p(e.data.products)})).catch((function(e){e.response&&e.response.data.message&&(S(!1),A(!0),J(e.response.data.message))})),s!==j&&o(s)}),[s,j]);return m?Object(d.jsx)(n.a,{to:"/edit-product/".concat(m)}):Object(d.jsx)(l.ub,{children:Object(d.jsx)(l.u,{xl:12,children:Object(d.jsxs)(l.j,{children:[Object(d.jsxs)(l.n,{children:["Products",Object(d.jsx)(l.bb,{className:"btn btn-success",style:{float:"right"},to:"/add-product",children:"Add Product"})]}),Object(d.jsxs)(l.k,{children:[N?Object(d.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[Object(d.jsx)("strong",{children:"Deleted"})," Your item has been deleted successfully.",Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}):null,y?Object(d.jsxs)("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:[Object(d.jsx)("strong",{children:"Alert "})," ",E||"Something went wrong try again later !.",Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}):null,Object(d.jsxs)("table",{className:"table table-hover",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",children:"#"}),Object(d.jsx)("th",{scope:"col",children:"Title"})]})}),Object(d.jsx)("tbody",{children:O.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"row",children:t+1}),Object(d.jsx)("td",{children:e.title}),Object(d.jsx)("td",{children:Object(d.jsx)(l.bb,{className:"btn btn-sm btn-outline-warning",to:"/edit-product/".concat(e.id),children:"Edit"})})]},e.id)}))})]}),Object(d.jsx)(l.qb,{activePage:j,onActivePageChange:function(t){s!==t&&e.push("/products?page=".concat(t))},pages:O.length/5,doubleArrows:!1,align:"center"})]})]})})})}}}]);
//# sourceMappingURL=176.d1e793aa.chunk.js.map