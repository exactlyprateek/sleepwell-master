(this.webpackJsonpsleepwell=this.webpackJsonpsleepwell||[]).push([[156],{1365:function(e,t,c){"use strict";c.r(t);var s=c(25),n=c(638),a=c(1),j=c(637),r=c(815),l=c.n(r),o=c(653),b=c(652),d=c(647),i=c(18),u=c(639),O=c.n(u),h=c(13),x=c(640).default,p=b.b().shape({couponType:b.c().required(),productId:b.c().required(),couponCode:b.c().required(),value:b.c().required(),stateId:b.c().required()});t.default=function(){var e=Object(d.e)({mode:"all",resolver:Object(o.a)(p)}),t=e.register,c=e.control,r=e.handleSubmit,b=e.formState.errors,u=(Object(i.g)(),Object(a.useState)(null)),m=Object(n.a)(u,2),g=m[0],v=m[1],f=Object(a.useState)(!1),S=Object(n.a)(f,2),y=S[0],C=(S[1],Object(a.useState)(!0)),k=Object(n.a)(C,2),T=k[0],N=k[1],I=Object(a.useState)(""),F=Object(n.a)(I,2),w=F[0],K=F[1],L=Object(a.useState)(""),q=Object(n.a)(L,2),A=q[0],D=(q[1],Object(a.useState)("")),J=Object(n.a)(D,2),P=J[0],V=(J[1],Object(a.useState)("")),B=Object(n.a)(V,2),E=B[0],Q=B[1],z=Object(a.useState)(new Date),G=Object(n.a)(z,2),H=G[0],M=G[1],R=Object(a.useState)([]),U=Object(n.a)(R,2),W=U[0],X=U[1],Y=Object(a.useState)([]),Z=Object(n.a)(Y,2),$=Z[0],_=Z[1],ee=sessionStorage.getItem("token");Object(a.useEffect)((function(){x.get("http://markbran.in/apis/admin/state",{headers:{"auth-token":ee}}).then((function(e){X(e.data.states)})).catch((function(e){e.response&&e.response.data.message&&v(e.response.data.message)})),x.get("http://markbran.in/apis/admin/products",{headers:{"auth-token":ee}}).then((function(e){_(e.data.products)})).catch((function(e){e.response&&e.response.data.message?v(e.response.data.message):v("Something went wrong!")}))}),[]);return Object(h.jsx)("div",{children:Object(h.jsx)(j.ub,{children:Object(h.jsx)(j.u,{xs:"12",sm:"12",children:Object(h.jsxs)(j.j,{children:[Object(h.jsx)(j.n,{children:"Add Coupon"}),Object(h.jsx)(j.k,{children:Object(h.jsxs)(j.J,{onSubmit:r((function(e){var t=new FormData;t.append("status",T),t.append("title",e.categoryName),t.append("image",w),t.append("buttonText",A),t.append("buttonLink",P),t.append("description",E),v(null)})),children:[Object(h.jsx)("br",{}),g&&Object(h.jsx)("p",{className:"text-danger",children:g}),Object(h.jsxs)(j.ub,{children:[Object(h.jsx)(j.u,{xs:"6",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"category",children:"Select coupon type"}),Object(h.jsx)(j.T,{className:"mb-3",children:Object(h.jsxs)(j.vb,Object(s.a)(Object(s.a)({name:"couponType"},t("couponType")),{},{children:[Object(h.jsx)("option",{value:"",children:"Select coupon type"}),Object(h.jsx)("option",{value:"percentage",children:"Percentage"}),Object(h.jsx)("option",{value:"amount",children:"Amount"})]}))}),Object(h.jsx)(j.L,{className:"help-block text-danger",color:"red",children:b.couponType&&b.couponType.message})]})}),Object(h.jsx)(j.u,{xs:"6",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"category",children:"Coupon Code"}),Object(h.jsx)(j.T,{className:"mb-3",children:Object(h.jsx)(d.a,{name:"couponCode",control:c,defaultValue:"",rules:{required:{value:!0,message:"Coupon code is required"}},render:function(e){var t=e.field;return Object(h.jsx)(j.Q,Object(s.a)(Object(s.a)({},t),{},{type:"text",placeholder:"Coupon code",autoComplete:"Coupon code"}))}})}),Object(h.jsx)(j.L,{className:"help-block text-danger",color:"red",children:b.couponCode&&b.couponCode.message})]})})]}),Object(h.jsxs)(j.ub,{children:[Object(h.jsxs)(j.u,{xs:"6",children:[Object(h.jsx)(j.ab,{htmlFor:"category",children:"Image"}),Object(h.jsxs)(j.T,{className:"mb-3",children:[Object(h.jsx)(j.ab,{htmlFor:"image",variant:"custom-file",children:"Choose image..."}),Object(h.jsx)(j.S,{onChange:function(e){K(e.target.files[0])},custom:!0,id:"image",type:"file"})]})]}),Object(h.jsx)(j.u,{xs:"6",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"category",children:"Select product"}),Object(h.jsx)(j.T,{className:"mb-3",children:Object(h.jsxs)(j.vb,Object(s.a)(Object(s.a)({name:"productId"},t("productId")),{},{children:[Object(h.jsx)("option",{value:"",children:"Select product"}),$.map((function(e,t){return Object(h.jsx)("option",{value:e.id,children:e.title},t)}))]}))}),Object(h.jsx)(j.L,{className:"help-block text-danger",color:"red",children:b.productId&&b.productId.message})]})})]}),Object(h.jsxs)(j.ub,{children:[Object(h.jsx)(j.u,{xl:"6",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"Button Text",children:"Value (Percentage/Amount)"}),Object(h.jsx)(j.T,{children:Object(h.jsx)(j.Q,Object(s.a)(Object(s.a)({type:"text"},t("value")),{},{placeholder:"Value (Percentage/Amount)",autoComplete:"value"}))}),Object(h.jsx)(j.L,{className:"help-block text-danger",color:"red",children:b.value&&b.value.message})]})}),Object(h.jsx)(j.u,{xs:"6",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"category",children:"Select state"}),Object(h.jsx)(j.T,{className:"mb-3",children:Object(h.jsxs)(j.vb,Object(s.a)(Object(s.a)({name:"stateId"},t("stateId")),{},{children:[Object(h.jsx)("option",{value:"",children:"Select state"}),W.map((function(e,t){return Object(h.jsx)("option",{value:e.id,children:e.state})}))]}))}),Object(h.jsx)(j.L,{className:"help-block text-danger",color:"red",children:b.stateId&&b.stateId.message})]})})]}),Object(h.jsxs)(j.ub,{children:[Object(h.jsx)(j.u,{xl:"6",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"category",children:"Status"}),Object(h.jsx)(j.T,{children:Object(h.jsx)(O.a,{onChange:function(e){N(e)},checked:T})})]})}),Object(h.jsx)(j.u,{xl:"6",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"Button Link",children:"Expiry Date"}),Object(h.jsx)(j.T,{children:Object(h.jsx)(l.a,{onChange:function(e){M(e)},value:H})})]})})]}),Object(h.jsx)(j.ub,{children:Object(h.jsx)(j.u,{xl:"12",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"category",children:"Description"}),Object(h.jsx)(j.T,{children:Object(h.jsx)(j.Jb,{id:"content",rows:"3",onChange:function(e){Q(e.target.value)},value:E})})]})})}),Object(h.jsx)(j.ub,{children:Object(h.jsx)(j.u,{xs:"8",children:Object(h.jsx)("button",{className:"btn btn-success",disabled:!!y,type:"submit",children:y?"Loading...":"Add Coupon"})})})]})})]})})})})}}}]);
//# sourceMappingURL=156.e8e66775.chunk.js.map