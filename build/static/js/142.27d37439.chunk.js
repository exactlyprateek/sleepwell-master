(this.webpackJsonpsleepwell=this.webpackJsonpsleepwell||[]).push([[142],{1422:function(e,t,c){"use strict";c.r(t);var s=c(639),n=c(1),a=c(645),r=c.n(a),i=c(637),l=c(646),o=(c(647),c(661),c(643),c(642)),d=c.n(o),j=c(640),b=c.n(j),u=c(13),h=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(null),l=Object(s.a)(r,2),o=l[0],j=l[1],h=Object(n.useState)(!1),O=Object(s.a)(h,2),x=O[0],m=O[1],p=Object(n.useState)(!1),g=Object(s.a)(p,2),f=g[0],S=g[1],v=Object(n.useState)(""),w=Object(s.a)(v,2),k=w[0],y=w[1],C=Object(n.useState)(""),N=Object(s.a)(C,2),D=N[0],A=N[1],E=sessionStorage.getItem("token");Object(n.useEffect)((function(){U()}),[]);var U=function(){d.a.get("http://markbran.in/apis/admin/aboutUsSection",{headers:{"auth-token":E}}).then((function(e){A(e.data.section.description),y(e.data.section.id),a(!!e.data.section.status)})).catch((function(e){e.response&&e.response.data.message?j(e.response.data.message):j("Something went wrong!")})).finally((function(){return m(!1)}))};return Object(u.jsx)("div",{children:Object(u.jsx)(i.ub,{children:Object(u.jsx)(i.u,{xs:"12",sm:"12",children:Object(u.jsxs)(i.J,{children:[Object(u.jsx)("br",{}),Object(u.jsxs)(i.ub,{children:[Object(u.jsx)(i.u,{xs:"6",children:Object(u.jsxs)(i.K,{children:[Object(u.jsx)(i.ab,{htmlFor:"category",children:"Description"}),Object(u.jsx)(i.Jb,{value:D,onChange:function(e){return A(e.target.value)},placeholder:"Description"})]})}),Object(u.jsx)(i.u,{xs:"6",children:Object(u.jsxs)(i.K,{children:[Object(u.jsx)(i.ab,{htmlFor:"category",children:"Status"}),Object(u.jsx)("div",{children:Object(u.jsx)(b.a,{checked:c,onChange:function(e){return a(e)}})})]})})]}),Object(u.jsx)(i.ub,{children:Object(u.jsxs)(i.u,{xs:"8",children:[Object(u.jsx)("button",{className:"btn btn-success",disabled:!!x,onClick:function(){var e=new FormData;e.append("status",c?1:0),e.append("id",k),e.append("description",D),S(!1),j(null),m(!0),d.a.post("http://markbran.in/apis/admin/aboutUsSection",e,{headers:{"Content-Type":"multipart/form-data","auth-token":E}}).then((function(e){S(!0),console.log(f),m(!1)})).catch((function(e){m(!1),e.response&&e.response.data.message?j(e.response.data.message):j("Something went wrong!")}))},children:x?"Loading...":"Save"}),o&&Object(u.jsx)("div",{style:{color:"red"},children:"Something went wrong"}),f&&Object(u.jsx)("div",{style:{color:"green"},children:"Saved"})]})})]})})})})},O=c(642).default;c(387).config();t.default=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],a=t[1],o=Object(n.useState)(!1),d=Object(s.a)(o,2),j=d[0],b=d[1],x=Object(n.useState)(!1),m=Object(s.a)(x,2),p=m[0],g=m[1],f=Object(n.useState)(""),S=Object(s.a)(f,2),v=(S[0],S[1],Object(n.useState)("")),w=Object(s.a)(v,2),k=w[0],y=w[1],C=sessionStorage.getItem("token"),N=function(e){O.delete("http://markbran.in/apis/admin/aboutUsCard/".concat(e),{headers:{"auth-token":C}}).then((function(e){b(!0),g(!1),D()})).catch((function(e){b(!1),g(!0),y(e.response.data.message)}))},D=function(){O.get("http://markbran.in/apis/admin/aboutUsCard",{headers:{"auth-token":C}}).then((function(e){a(e.data.cards),console.log(e.data.cards)})).catch((function(e){b(!1),g(!0),y(e.response.data.message)}))};return Object(n.useEffect)((function(){D()}),[]),Object(u.jsx)(i.ub,{children:Object(u.jsx)(i.u,{xl:12,children:Object(u.jsxs)(i.j,{children:[Object(u.jsxs)(i.n,{children:["About Us",Object(u.jsx)(i.bb,{style:{float:"right"},className:"btn btn-success",to:"/about-us-card/add-about-us",children:"Add Content"})]}),Object(u.jsx)(i.k,{children:Object(u.jsx)("div",{children:Object(u.jsx)(h,{})})}),Object(u.jsxs)(i.k,{children:[j?Object(u.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[Object(u.jsx)("strong",{children:"Deleted"})," Your item has been deleted successfully.",Object(u.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(u.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}):null,p?Object(u.jsxs)("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:[Object(u.jsx)("strong",{children:"Alert "})," ",k||"Something went wrong try again later !.",Object(u.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(u.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}):null,Object(u.jsxs)("table",{className:"table table-hover",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"#"}),Object(u.jsx)("th",{scope:"col",children:"Title"}),Object(u.jsx)("th",{scope:"col",children:"Tagline"}),Object(u.jsx)("th",{scope:"col",children:"Sort Order"}),Object(u.jsx)("th",{scope:"col",children:"Create at"}),Object(u.jsx)("th",{scope:"col",children:"Action"})]})}),Object(u.jsx)("tbody",{children:c.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:t+1}),Object(u.jsx)("th",{children:e.title}),Object(u.jsx)("td",{width:"50%",children:e.tagLine}),Object(u.jsx)("td",{children:e.sortOrder}),Object(u.jsx)("td",{children:r()(e.createdAt,"mmmm dS, yyyy")}),Object(u.jsxs)("td",{children:[Object(u.jsx)(i.bb,{className:"btn btn-sm btn-outline-warning",to:"/about-us-card/edit/".concat(e.id),children:"Edit"}),Object(u.jsx)("button",{type:"button",onClick:function(){return t=e.id,void Object(l.confirmAlert)({title:"Are you sure?",message:"You want to delete this item?",buttons:[{label:"Yes, Delete it",onClick:function(){return N(t)}},{label:"No"}]});var t},className:"btn btn-sm btn-outline-danger",children:"Delete"})]})]},e.id)}))})]})]})]})})})}},661:function(e,t,c){"use strict";var s=c(1),n=c(637),a=c(687),r=c(688),i=c.n(r),l=c(13);t.a=function(e,t){Object(s.useRef)();return Object(l.jsx)("div",{children:Object(l.jsx)(n.ub,{children:Object(l.jsx)(n.u,{xs:"12",sm:"12",children:Object(l.jsx)(a.CKEditor,{editor:i.a,data:e.editorValue?e.editorValue:"",onChange:function(t,c){c.getData()&&e.onEditorValue(c.getData())}})})})})}}}]);
//# sourceMappingURL=142.27d37439.chunk.js.map