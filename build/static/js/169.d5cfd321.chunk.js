(this.webpackJsonpsleepwell=this.webpackJsonpsleepwell||[]).push([[169],{1376:function(e,t,c){"use strict";c.r(t);var s=c(25),a=c(639),n=c(1),r=c(637),j=c(816),d=c.n(j),i=c(643),l=c(653),b=c(638),o=c(18),u=c(640),h=c.n(u),O=c(13),x=c(642).default,m=l.b().shape({productId:l.c().required(),stateId:l.c().required(),expireDate:l.c().required(),discount:l.c().required()});t.default=function(){var e=Object(b.e)({mode:"all",resolver:Object(i.a)(m)}),t=e.register,c=e.control,j=e.handleSubmit,l=e.formState.errors,u=(Object(o.g)(),Object(n.useState)(null)),p=Object(a.a)(u,2),g=p[0],f=p[1],S=Object(n.useState)(!1),k=Object(a.a)(S,2),v=k[0],D=(k[1],Object(n.useState)(!0)),I=Object(a.a)(D,2),y=I[0],N=I[1],F=Object(n.useState)(""),w=Object(a.a)(F,2),T=w[0],q=w[1],C=Object(n.useState)(new Date),K=Object(a.a)(C,2),L=K[0],A=K[1],J=Object(n.useState)(!1),E=Object(a.a)(J,2),B=E[0],Q=E[1],V=Object(n.useState)([]),z=Object(a.a)(V,2),G=z[0],H=z[1],M=Object(n.useState)([]),P=Object(a.a)(M,2),R=P[0],U=P[1],W=sessionStorage.getItem("token");Object(n.useEffect)((function(){x.get("http://markbran.in/apis/admin/state",{headers:{"auth-token":W}}).then((function(e){H(e.data.states)})).catch((function(e){e.response&&e.response.data.message&&f(e.response.data.message)})),x.get("http://markbran.in/apis/admin/products",{headers:{"auth-token":W}}).then((function(e){U(e.data.products)})).catch((function(e){e.response&&e.response.data.message?f(e.response.data.message):f("Something went wrong!")}))}),[]);return Object(O.jsx)("div",{children:Object(O.jsx)(r.ub,{children:Object(O.jsx)(r.u,{xs:"12",sm:"12",children:Object(O.jsxs)(r.j,{children:[Object(O.jsx)(r.n,{children:"Add Discount"}),Object(O.jsx)(r.k,{children:Object(O.jsxs)(r.J,{onSubmit:j((function(e){var t=new FormData;t.append("status",y),t.append("title",e.categoryName),t.append("image",T),f(null)})),children:[Object(O.jsx)("br",{}),g&&Object(O.jsx)("p",{className:"text-danger",children:g}),Object(O.jsxs)(r.ub,{children:[Object(O.jsx)(r.u,{xs:"6",children:Object(O.jsxs)(r.K,{children:[Object(O.jsx)(r.ab,{htmlFor:"category",children:"Select product"}),Object(O.jsx)(r.T,{className:"mb-3",children:Object(O.jsxs)(r.vb,Object(s.a)(Object(s.a)({name:"productId"},t("productId")),{},{children:[Object(O.jsx)("option",{value:"",children:"Select product"}),R.map((function(e,t){return Object(O.jsx)("option",{value:e.id,children:e.title},t)}))]}))}),Object(O.jsx)(r.L,{className:"help-block text-danger",color:"red",children:l.productId&&l.productId.message})]})}),Object(O.jsx)(r.u,{xs:"6",children:Object(O.jsxs)(r.K,{children:[Object(O.jsx)(r.ab,{htmlFor:"category",children:"Select state"}),Object(O.jsx)(r.T,{className:"mb-3",children:Object(O.jsxs)(r.vb,Object(s.a)(Object(s.a)({name:"stateId"},t("stateId")),{},{children:[Object(O.jsx)("option",{value:"",children:"Select state"}),G.map((function(e,t){return Object(O.jsx)("option",{value:e.id,children:e.state})}))]}))}),Object(O.jsx)(r.L,{className:"help-block text-danger",color:"red",children:l.stateId&&l.stateId.message})]})})]}),Object(O.jsxs)(r.ub,{children:[Object(O.jsx)(r.u,{xs:"6",children:Object(O.jsxs)(r.K,{children:[Object(O.jsx)(r.ab,{htmlFor:"category",children:"Discount (In percentage)"}),Object(O.jsx)(r.T,{className:"mb-3",children:Object(O.jsx)(b.a,{name:"discount",control:c,defaultValue:"",rules:{required:{value:!0,message:"Discount is required"}},render:function(e){var t=e.field;return Object(O.jsx)(r.Q,Object(s.a)(Object(s.a)({},t),{},{type:"text",placeholder:"Add Discount",autoComplete:"Discount"}))}})}),Object(O.jsx)(r.L,{className:"help-block text-danger",color:"red",children:l.discount&&l.discount.message})]})}),Object(O.jsxs)(r.u,{xs:"6",children:[Object(O.jsx)(r.ab,{htmlFor:"category",children:"Image"}),Object(O.jsxs)(r.T,{className:"mb-3",children:[Object(O.jsx)(r.ab,{htmlFor:"image",variant:"custom-file",children:"Choose image..."}),Object(O.jsx)(r.S,{onChange:function(e){q(e.target.files[0])},custom:!0,id:"image",type:"file"})]})]})]}),Object(O.jsxs)(r.ub,{children:[Object(O.jsx)(r.u,{xl:"6",children:Object(O.jsxs)(r.K,{children:[Object(O.jsx)(r.ab,{htmlFor:"Button Link",children:"Expiry Date"}),Object(O.jsx)(r.T,{children:Object(O.jsx)(d.a,Object(s.a)(Object(s.a)({},t("expireDate")),{},{onChange:function(e){A(e)},value:L}))}),Object(O.jsx)(r.L,{className:"help-block text-danger",color:"red",children:l.expireDate&&l.expireDate.message})]})}),Object(O.jsx)(r.u,{xl:"6",children:Object(O.jsxs)(r.K,{children:[Object(O.jsx)(r.ab,{htmlFor:"category",children:"Add as banner"}),Object(O.jsx)(r.T,{children:Object(O.jsx)(h.a,{onChange:function(e){Q(e)},checked:B})})]})})]}),Object(O.jsx)(r.ub,{children:Object(O.jsx)(r.u,{xl:"6",children:Object(O.jsxs)(r.K,{children:[Object(O.jsx)(r.ab,{htmlFor:"category",children:"Status"}),Object(O.jsx)(r.T,{children:Object(O.jsx)(h.a,{onChange:function(e){N(e)},checked:y})})]})})}),Object(O.jsx)(r.ub,{children:Object(O.jsx)(r.u,{xs:"8",children:Object(O.jsx)("button",{className:"btn btn-success",disabled:!!v,type:"submit",children:v?"Loading...":"Add Discount"})})})]})})]})})})})}}}]);
//# sourceMappingURL=169.d5cfd321.chunk.js.map