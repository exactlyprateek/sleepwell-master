(this.webpackJsonpsleepwell=this.webpackJsonpsleepwell||[]).push([[165],{1326:function(e,t,s){"use strict";s.r(t);var c=s(638),n=s(1),a=s(637),r=s(640),i=s.n(r),l=s(643),o=s.n(l),d=s(645),j=(s(646),s(639)),b=s.n(j),h=s(13);t.default=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),s=t[0],r=t[1],l=Object(n.useState)(!1),j=Object(c.a)(l,2),u=j[0],O=j[1],p=Object(n.useState)(!1),m=Object(c.a)(p,2),x=m[0],f=m[1],g=Object(n.useState)(""),w=Object(c.a)(g,2),v=w[0],k=w[1],y=Object(n.useState)(!0),S=Object(c.a)(y,2),N=S[0],A=S[1],C=sessionStorage.getItem("token"),D=function(e){i.a.delete("http://markbran.in/apis/admin/review/".concat(e)).then((function(e){O(!0),f(!1),Y()})).catch((function(e){O(!1),f(!0)}))},R=function(e,t){var s=new FormData,c=N?1:0;console.log(t,c),s.append("status",c),i.a.post("http://markbran.in/apis/admin/review/".concat(e),s,{headers:{"auth-token":C}}).then((function(e){O(!0),f(!1),k("Review approved!."),Y()})).catch((function(e){e.response&&e.response.data.message?(O(!1),f(!0),k(e.response.data.message)):(O(!1),f(!0),k("Something went wrong, try again!.")),A(N)}))},Y=function(){i.a.get("http://markbran.in/apis/admin/review",{headers:{"auth-token":C}}).then((function(e){console.log(e.data.reviews),r(e.data.reviews),O(!1),f(!1)})).catch((function(e){e.response&&e.response.data.message&&(O(!1),f(!0),k(e.response.data.message))}))};return Object(n.useEffect)((function(){Y(),s&&A(s.status)}),[s.status]),Object(h.jsx)(a.ub,{children:Object(h.jsx)(a.u,{xl:12,children:Object(h.jsxs)(a.j,{children:[Object(h.jsx)(a.n,{children:"Product/Service Reviews"}),Object(h.jsxs)(a.k,{children:[u?Object(h.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[Object(h.jsx)("strong",{children:"Deleted"})," ",v||"Your item has been deleted successfully.",Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}):null,x?Object(h.jsxs)("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:[Object(h.jsx)("strong",{children:"Alert "})," ",v||"Something went wrong try again later !.",Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}):null,Object(h.jsxs)("table",{className:"table table-hover",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"#"}),Object(h.jsx)("th",{scope:"col",children:"Title"}),Object(h.jsx)("th",{scope:"col",children:"Product"}),Object(h.jsx)("th",{scope:"col",children:"Review"}),Object(h.jsx)("th",{scope:"col",children:"Approve"}),Object(h.jsx)("th",{scope:"col",children:"Create at"}),Object(h.jsx)("th",{scope:"col",children:"Action"})]})}),Object(h.jsx)("tbody",{children:s.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"row",children:t+1}),Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:e.productName}),Object(h.jsx)("td",{children:e.description}),Object(h.jsx)("td",{children:Object(h.jsx)(b.a,{onChange:function(t){return function(e,t){console.log(e,t),A(e),R(t,e)}(t,e.id)},checked:N})}),Object(h.jsx)("td",{children:o()(e.createdAt,"mmmm dS, yyyy")}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:function(){return t=e.id,void Object(d.confirmAlert)({title:"Are you sure?",message:"You want to delete this item?",buttons:[{label:"Yes, Delete it",onClick:function(){return D(t)}},{label:"No"}]});var t},type:"button",className:"btn btn-sm btn-outline-danger",children:"Delete"})})]},e.id)}))})]})]})]})})})}}}]);
//# sourceMappingURL=165.7fc01624.chunk.js.map